# ===========================================
# Production Environment Configuration
# ===========================================
# Copy this file to .env.production and fill in your values
# DO NOT commit .env.production to git!

# -------------------------------------------
# Application Configuration
# -------------------------------------------
NODE_ENV=production
PORT=3015
APP_URL=https://laghhu.link
FRONTEND_URL=https://laghhu.link

# -------------------------------------------
# Database Configuration
# -------------------------------------------
# Local MongoDB
MONGO_URI=mongodb://localhost:27017/url-shortener

# Or MongoDB Atlas
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/url-shortener?retryWrites=true&w=majority

DB_NAME=url-shortener

# -------------------------------------------
# Redis Configuration (Optional but Recommended)
# -------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# -------------------------------------------
# Security & Authentication
# -------------------------------------------
# Generate secure random strings (min 32 characters)
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

JWT_SECRET=your-super-secure-jwt-secret-change-this-min-32-chars
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-change-this-min-32-chars
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

SESSION_SECRET=your-super-secure-session-secret-change-this

# -------------------------------------------
# Stripe Payment Gateway
# -------------------------------------------
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxx

# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxx

# -------------------------------------------
# Moyasar Payment Gateway (Saudi Arabia)
# -------------------------------------------
# Get from: https://moyasar.com/dashboard/settings/api-keys
MOYASAR_API_KEY=pk_live_xxxxxxxxxxxxxxxxxxxx
MOYASAR_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxx
MOYASAR_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxx

# -------------------------------------------
# Payment Configuration
# -------------------------------------------
# Default gateway: stripe or moyasar
DEFAULT_PAYMENT_GATEWAY=moyasar

# -------------------------------------------
# Logging Configuration
# -------------------------------------------
LOG_LEVEL=info
LOG_DIR=/var/log/url-shortener

# -------------------------------------------
# Email Configuration
# -------------------------------------------
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password

# Email Addresses
EMAIL_FROM=noreply@laghhu.link
EMAIL_FROM_NAME=Laghhu Link
SUPPORT_EMAIL=support@laghhu.link

# -------------------------------------------
# File Storage
# -------------------------------------------
# Local storage
UPLOAD_DIR=./uploads
INVOICE_DIR=./invoices

# Or AWS S3 (Optional)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=your-bucket-name

# -------------------------------------------
# Backup Configuration
# -------------------------------------------
BACKUP_DIR=/var/backups/url-shortener
BACKUP_RETENTION=30

# S3 Backup (Optional)
# S3_BUCKET=your-backup-bucket
# AWS_REGION=us-east-1

# -------------------------------------------
# Super Admin Configuration
# -------------------------------------------
# Used by init-super-admin.js script
SUPER_ADMIN_EMAIL=admin@laghhu.link
SUPER_ADMIN_PASSWORD=ChangeThisToASecurePassword123!
SUPER_ADMIN_NAME=Super Admin

# -------------------------------------------
# Rate Limiting
# -------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -------------------------------------------
# Analytics
# -------------------------------------------
ANALYTICS_RETENTION_DAYS=365

# -------------------------------------------
# Feature Flags
# -------------------------------------------
ENABLE_ANALYTICS=true
ENABLE_QR_CODES=true
ENABLE_CUSTOM_DOMAINS=true
ENABLE_API_ACCESS=true
ENABLE_BULK_OPERATIONS=true

# -------------------------------------------
# External Services (Optional)
# -------------------------------------------
# Google Analytics
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Sentry Error Tracking
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Cloudflare (if using)
# CLOUDFLARE_API_TOKEN=your-token
# CLOUDFLARE_ZONE_ID=your-zone-id

# -------------------------------------------
# CORS Configuration
# -------------------------------------------
CORS_ORIGIN=https://laghhu.link,https://www.laghhu.link

# -------------------------------------------
# SSL/TLS Configuration
# -------------------------------------------
# SSL_KEY_PATH=/etc/letsencrypt/live/laghhu.link/privkey.pem
# SSL_CERT_PATH=/etc/letsencrypt/live/laghhu.link/fullchain.pem

# -------------------------------------------
# Development/Testing (Keep empty in production)
# -------------------------------------------
# DEBUG=
# DISABLE_AUTH=false
# MOCK_PAYMENTS=false
